apiVersion: v1
kind: Secret

metadata:
  name: {{ template "secretName" . }}
  namespace: {{ .Values.global.namespace }}
  labels:
    {{- include "commonLabels" . | nindent 4 }}

data:
  {{- with .Values.global.dbCredentials }}
  # Postgres docker env variables
  POSTGRES_DB: {{ .postgres_db  | b64enc }}
  POSTGRES_USER: {{ .postgres_user  | b64enc }}
  POSTGRES_PASSWORD: {{ .postgres_password | b64enc }}
  # Postgres actual env variables
  PGDATABASE: {{ .postgres_db  | b64enc }}
  PGUSER: {{ .postgres_user  | b64enc }}
  PGPASSWORD: {{ .postgres_password | b64enc }}
  REPLICATION_USER: {{ .replication_user | b64enc }}
  {{- end -}}
